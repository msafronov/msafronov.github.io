import {
  B,
  F,
  P,
  _,
  o,
  p,
  q,
  s
} from "./chunk-BG32HCWO.js";
import {
  Module
} from "./chunk-4QH4YDI4.js";

// ../graphics/dist/index.js
var __defProp = Object.defineProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __toBinary = /* @__PURE__ */ (() => {
  var table = new Uint8Array(128);
  for (var i = 0; i < 64; i++)
    table[i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i * 4 - 205] = i;
  return (base64) => {
    var n = base64.length, bytes = new Uint8Array((n - (base64[n - 1] == "=") - (base64[n - 2] == "=")) * 3 / 4 | 0);
    for (var i2 = 0, j = 0; i2 < n; ) {
      var c0 = table[base64.charCodeAt(i2++)], c1 = table[base64.charCodeAt(i2++)];
      var c2 = table[base64.charCodeAt(i2++)], c3 = table[base64.charCodeAt(i2++)];
      bytes[j++] = c0 << 2 | c1 >> 4;
      bytes[j++] = c1 << 4 | c2 >> 2;
      bytes[j++] = c2 << 6 | c3;
    }
    return bytes;
  };
})();
var main_exports = {};
__export(main_exports, {
  default: () => main_default
});
var main_default = __toBinary("AGFzbQEAAAABHwZgAX8AYAF/AX9gAABgBH9/f38AYAJ/fwBgA39/fwACHgIDZW52BnJlbmRlcgACA2Vudglsb2dfZXJyb3IAAAMKCQADBAABAQAFAAUEAQECUAYWA38BQYCABAt/AEGmoAQLfwBBsKAECwdRBwZtZW1vcnkCAARpbml0AAIDcnVuAAUMc2NyZWVuX3dpZHRoAAYNc2NyZWVuX2hlaWdodAAHCl9fZGF0YV9lbmQDAQtfX2hlYXBfYmFzZQMCDAFECpkuCb0VAQh/IwBB4ARrIgAkACAAQbQDakGIIDsBACAAQawDakIgNwIAIABBpANqQoCABDcCACAAQZwDakKggICAgIDAADcCACAAQZQDakKAgAQ3AgAgAEGMA2pChICAgICAwAA3AgAgAEGEA2pCgIWAgIA8NwIAIABB/AJqQuCDgIDAADcCACAAQfQCakLgg4CAgNAANwIAIABB7AJqQoCAgICA0AA3AgAgAEHkAmpCgICAgIAENwIAIABB3AJqQoCAhICAgMAANwIAIABB1AJqQoCAgICABDcCACAAQcwCakKAgISAgIDAADcCACAAQcQCakLgg4CAwAA3AgAgAEG8AmpCgICAgIDQADcCACAAQbQCakKAgICAgAQ3AgAgAEGsAmpCgICEgICAwAA3AgAgAEGkAmpCgICAgIAENwIAIABBnAJqQoCAhICAgMAANwIAIABBlAJqQoCAgICABDcCACAAQYwCakKAgISAgIDAADcCACAAQYQCakKAgICAgAQ3AgAgAEH8AWpCgICEgICAwAA3AgAgAEH0AWpCgICAgIAENwIAIABB7AFqQoCAhICAgMAANwIAIABB5AFqQoCAgICABDcCACAAQoCAhICAgMAANwLcASAAQYggOwHYASAAQiA3A9ABIABCgIAENwPIASAAQqCAgICAgMAANwPAASAAQoCABDcDuAEgAEKEgICAgIDAADcDsAEgAEKAhYCAgDw3A6gBIABC4IOAgMAANwOgASAAQuCDgICA0AA3A5gBIABCgICAgIDQADcDkAEgAEKAgICAgAQ3A4gBIABCgICEgICAwAA3A4ABIABCgICAgIAENwN4IABCgICEgICAwAA3A3AgAELgg4CAwAA3A2ggAEKAgICAgNAANwNgIABCgICAgIAENwNYIABCgICEgICAwAA3A1AgAEKAgICAgAQ3A0ggAEKAgISAgIDAADcDQCAAQoCAgICABDcDOCAAQoCAhICAgMAANwMwIABCgICAgIAENwMoIABCgICEgICAwAA3AyAgAEKAgICAgAQ3AxggAEKAgISAgIDAADcDECAAQoCAgICABDcDCCAAQoCAhICAgMAANwMAIABBtgNqIAAvAagEOwEAIAAoAhwiBCAAKAIYaiIBQYCABDYCDCABIAEgBGo2AgggAUEAOwECIAEgBDoAASABQQA6AAAgASABNgIQIAEgATYCBCAAQSBqIgFBAkEBQQAQAyABQQNBBEGA4BIQAyABQQRBBEGA4BIQAyABQQVBwABBABADIABBwARqIgFCADcDACAAQcgEaiIEQgA3AwAgAEHQBGoiAkIANwMAIABB2ARqIgVCADcDACAAQQA2AKsEIABBBDoAqgQgAEGBAjsBqAQgAEEAOwCvBCAAQgA3A7gEIABBgAo7AbYEIABBwIKADzYBsgQgAEHcAWoiBiAAQagEaiIDEAQgAUIANwMAIARCADcDACACQgA3AwAgBUIANwMAIABCADcDuAQgAEGADDsBtgQgAEHhgdwANgGyBCAAQQA6ALAEIABCgYKYgPCLwAE3A6gEIAYgAxAEIABBiARqQgA3AwAgAEGQBGpCADcDACAAQZgEakIANwMAIABBoARqQgA3AwAgAEEAOwD3AyAAQQA2APMDIABBgAI7Af4DIABBggI7AfADIABCADcDgAQgAEHSgegANgH6AyAAQQQ6APIDIABBBjsB9gMgAEHkADsB9ANBgKAEIQFBECEEAkADQAJAAn8gASwAACICQQBOBEAgAkH/AXEhAiABQQFqDAELIAEtAAFBP3EhAyACQR9xIQUgAkFfTQRAIAVBBnQgA3IhAiABQQJqDAELIAEtAAJBP3EgA0EGdHIhAyACQXBJBEAgAyAFQQx0ciECIAFBA2oMAQsgBUESdEGAgPAAcSABLQADQT9xIANBBnRyciICQYCAxABGDQEgAUEEagshASAEQThGDQIgAEHwA2ogBGogAjoAACAEQQFqIQQgAUGPoARHDQELCyAAQdgEaiIBIABBoARqKQMANwMAIABB0ARqIgIgAEGYBGopAwA3AwAgAEHIBGoiBSAAQZAEaikDADcDACAAQcAEaiIDIABBiARqKQMANwMAQRAhBCAAQbgEaiAAQYAEaikDADcDACAAQbAEaiIIIABB+ANqKQMANwMAIAAgACkD8AM3A6gEIAYgAEGoBGoiBxAEIAhBADoAACADQgA3AwAgBUIANwMAIAJCADcDACABQgA3AwAgAEKBgpCAgCg3A6gEIABCADcDuAQgAEGACjsBtgQgAEGAhYAPNgGyBCAGIAcQBCADQgA3AwAgBUIANwMAIAJCADcDACABQgA3AwAgAEIANwO4BCAAQYAIOwG2BCAAQf6D3AA2AbIEIABBADoAsAQgAEKBgpCAoLjAATcDqAQgBiAHEAQgAEHQA2pCADcDACAAQdgDakIANwMAIABB4ANqQgA3AwAgAEHoA2pCADcDACAAQQA7AL8DIABBADYAuwMgAEGAAjsBxgMgAEGCAjsBuAMgAEIANwPIAyAAQf6D6AA2AcIDIABBBToAugMgAEEGOwG+AyAAQdEDOwG8A0GPoAQhAQNAAkACfyABLAAAIgJBAE4EQCACQf8BcSECIAFBAWoMAQsgAS0AAUE/cSEDIAJBH3EhBSACQV9NBEAgBUEGdCADciECIAFBAmoMAQsgAS0AAkE/cSADQQZ0ciEDIAJBcEkEQCADIAVBDHRyIQIgAUEDagwBCyAFQRJ0QYCA8ABxIAEtAANBP3EgA0EGdHJyIgJBgIDEAEYNASABQQRqCyEBIARBOEYNAiAAQbgDaiAEaiACOgAAIARBAWohBCABQZOgBEcNAQsLIABB2ARqIABB6ANqKQMANwMAIABB0ARqIABB4ANqKQMANwMAIABByARqIABB2ANqKQMANwMAIABBwARqIABB0ANqKQMANwMAQRAhBCAAQbgEaiAAQcgDaikDADcDACAAQbAEaiAAQcADaikDADcDACAAIAApA7gDNwOoBCAGIABBqARqEAQgAEGIBGpCADcDACAAQZAEakIANwMAIABBmARqQgA3AwAgAEGgBGpCADcDACAAQQA7APcDIABBADYA8wMgAEGAAjsB/gMgAEGCAjsB8AMgAEIANwOABCAAQf6DwAI2AfoDIABBCDoA8gMgAEE8OwH2AyAAQZUDOwH0A0GToAQhAQNAAkACfyABLAAAIgJBAE4EQCACQf8BcSECIAFBAWoMAQsgAS0AAUE/cSEDIAJBH3EhBSACQV9NBEAgBUEGdCADciECIAFBAmoMAQsgAS0AAkE/cSADQQZ0ciEDIAJBcEkEQCADIAVBDHRyIQIgAUEDagwBCyAFQRJ0QYCA8ABxIAEtAANBP3EgA0EGdHJyIgJBgIDEAEYNASABQQRqCyEBIARBOEYNAiAAQfADaiAEaiACOgAAIARBAWohBCABQaagBEcNAQsLIABB2ARqIABBoARqKQMANwMAIABB0ARqIABBmARqKQMANwMAIABByARqIABBkARqKQMANwMAIABBwARqIABBiARqKQMANwMAIABBuARqIABBgARqKQMANwMAIABBsARqIABB+ANqKQMANwMAIAAgACkD8AM3A6gEIAYgAEGoBGoQBCAAQeAEaiQADwsAC7YBAQV/QQEhBQJAIAAoAgQiBCACIANsIgZNBEAgBEUNASAGIARuIAYgBHBBAEdqIQULAkAgBUAAQX9HBEAgACgCACIHDQFBARAKAAtBAhAKAAsgAEEMaigCACIIIABBCGooAgBqIgMgCCADKAIIIgNqNgIIIAAgByAEIAVsIgBqNgIAIAMgAToAACADIAI6AAEgAyAANgIMIAMgBjYCCCADIAc2AgQgA0EAOwECIAMgAzYCEA8LAAubEwEafyMAQYADayICJAAgAEGoAWooAgBBAEoEQCAAQawBaigCAEEASgRAIABBsAFqKAIAQQBKBEAgAS8BBCIDIAEvAQoiBU0EQCABLwEGIgYgAS8BDCIITQRAIAEtAAgiCiABLQAOIgtGBEAgAS0ADyEMIAEtAAkhFCABLQADIRUgAS0AAiEJIAEtAAEhDSABLQAAIQcgAkEgaiITIAFBEGoiBEEgaiIRKQAANwMAIAJBGGoiASAEQRhqIg4pAAA3AwAgAkEQaiISIARBEGoiDykAADcDACACQQhqIhYgBEEIaiIQKQAANwMAIAIgBCkAADcDACACQShqIABBQGsiF0HoAPwKAAACQCAHQQNxQQJGBEAgAEHYAWovAQAhEyACQagBaiAQKQAANwMAIAJBsAFqIA8pAAA3AwAgAkG4AWogDikAADcDACACQcABaiARKQAANwMAIAIgDDoAnwEgAiALOgCeASACIAg7AZwBIAIgBTsBmgEgAiAKOgCYASACIAY7AZYBIAIgAzsBlAFBACEBIAJBADoAkwEgAiAJOgCSASACIA06AJEBIAIgBzoAkAEgAiAEKQAANwOgASAAQbwBaigCACAAQcAB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");
function graphicsWorkerFn() {
  let broadcastChannel = new BroadcastChannel("graphics");
  let instance = null;
  let canvas = null;
  let ctx = null;
  let imageData = null;
  let screenOffset = 131072;
  let screenLen = 0;
  let screenWidth = 0;
  let screenHeight = 0;
  const logWarningHandler = (...args) => {
    console.warn("wasm warning:", ...args);
  };
  const logErrorHandler = (errorCode) => {
    throw new Error(`wasm error, errorCode = ${errorCode}`);
  };
  const renderHandler = () => {
    const canvasData = new Uint8Array(
      instance.exports.memory.buffer,
      screenOffset,
      screenLen
    );
    imageData.data.set(canvasData);
    ctx.putImageData(imageData, 0, 0);
  };
  self.onmessage = (event) => {
    const config = {
      env: {
        log_warning: logWarningHandler,
        log_error: logErrorHandler,
        render: renderHandler
      }
    };
    try {
      const module = new WebAssembly.Module(event.data.wasm);
      const wasmInstance = new WebAssembly.Instance(module, config);
      instance = wasmInstance;
      canvas = event.data.offscreenCanvas;
      ctx = canvas.getContext("2d");
      broadcastChannel.postMessage({
        eventType: "READY"
      });
    } catch (error) {
      broadcastChannel.postMessage({
        eventType: "READY_ERROR",
        error
      });
    }
  };
  broadcastChannel.onmessage = (event) => {
    if (event.data.eventType === "INIT") {
      try {
        instance.exports.init();
        screenWidth = instance.exports.screen_width();
        screenHeight = instance.exports.screen_height();
        screenLen = screenWidth * screenHeight * 4;
        canvas.width = screenWidth;
        canvas.height = screenHeight;
        imageData = ctx.createImageData(
          screenWidth,
          screenHeight
        );
        console.warn("graphicsWorker instance:", instance);
        instance.exports.run();
        broadcastChannel.postMessage({
          eventType: "INIT_SUCCESS"
        });
      } catch (error) {
        broadcastChannel.postMessage({
          eventType: "INIT_ERROR",
          error
        });
      }
    }
  };
}
var graphicsWorkerAsString = graphicsWorkerFn.toString().replace(/^function\s*\S+\s*\([^)]*\)\s*\{|\}$/g, "");
var blob = new Blob([graphicsWorkerAsString], { type: "application/javascript" });
var worker = new Worker(URL.createObjectURL(blob));
var Graphics = class {
  constructor() {
    this.create = (canvas, broadcastChannelName) => {
      const offscreenCanvas = canvas.transferControlToOffscreen();
      worker.postMessage({
        wasm: main_default,
        offscreenCanvas,
        broadcastChannelName
      }, [main_default.buffer, offscreenCanvas]);
    };
  }
};

// src/modules/GraphicsModule/presentation/BroadcastChannelProvider/BroadcastChannelProviderContext.ts
var BroadcastChannelProviderContext = B(
  {}
);

// src/modules/GraphicsModule/presentation/BroadcastChannelProvider/BroadcastChannelProvider.tsx
var BroadcastChannelProvider = (props) => {
  const broadcastChannel = F(() => {
    return {
      broadcastChannelName: props.broadcastChannelName
    };
  }, []);
  return /* @__PURE__ */ o(BroadcastChannelProviderContext.Provider, { value: broadcastChannel, children: props.children });
};

// src/modules/GraphicsModule/presentation/Canvas/index.tsx
var Canvas = (props) => {
  const ref = _();
  const { broadcastChannelName } = q(BroadcastChannelProviderContext);
  s(() => {
    const canvas = ref.current;
    const graphics = new Graphics();
    graphics.create(canvas, broadcastChannelName);
  }, []);
  return /* @__PURE__ */ o(
    "canvas",
    {
      ref
    }
  );
};

// src/modules/GraphicsModule/presentation/App/index.tsx
var App = (props) => {
  return /* @__PURE__ */ o(p, { children: /* @__PURE__ */ o(Canvas, {}) });
};

// src/modules/GraphicsModule/presentation/index.tsx
var Presentation = class {
  constructor(container, broadcastChannelName) {
    this.container = container;
    this.broadcastChannelName = broadcastChannelName;
    P(
      /* @__PURE__ */ o(
        BroadcastChannelProvider,
        {
          broadcastChannelName: this.broadcastChannelName,
          children: /* @__PURE__ */ o(App, {})
        }
      ),
      this.container
    );
  }
};

// src/modules/GraphicsModule/index.ts
var GraphicsModule = class extends Module {
  constructor() {
    super(...arguments);
    this.attach = () => {
      new Presentation(
        this.container,
        "graphics" /* Graphics */
      );
    };
  }
};
export {
  GraphicsModule as default
};
