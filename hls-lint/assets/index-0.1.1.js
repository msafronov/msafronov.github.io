import{o as e,h as C,p as E,x as g,T as u,b,B as O}from"./preact-_10.18.1-0.1.1.js";import{c as a,a as $,u as _,D as F,b as M,i as A,e as D,T as j,d as G,f as q,g as J,h as V}from"./vendor-0.1.1.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const K=t=>e("div",{className:"container",children:t.children});const w=t=>e("div",{className:"container__item",children:t.children});const Q=t=>e("div",{className:"menu",children:e("div",{className:"menu__internal",children:t.children})});const v=t=>e("div",{className:a("menu__item",{[`menu__item_padding-top_${t.paddingTop}`]:t.paddingTop}),children:t.children});const U=t=>e("ul",{className:"menu__list",children:t.children});const X=t=>e("li",{className:"menu__list-item",children:t.children});const Y=t=>e("div",{className:"menu__application-bar",children:t.children});const Z=()=>e("img",{src:"/hls-lint/icons/menu-bar-resizer.svg",className:"menu__resize-icon",alt:"Resize"});const ee=()=>e("img",{src:"/hls-lint/icons/github.png",className:"menu__github-icon",alt:"HLS Lint icon",width:"16",height:"16"});const l=({size:t="md",tag:n="span",weight:r,color:c,textDecoration:s,family:i,children:o,...W})=>e(n,{className:a("text",{[`text_size_${t}`]:t,[`text_weight_${r}`]:r,[`text_color_${c}`]:c,[`text_family_${i}`]:i,[`text_decoration_${s}`]:s}),...W,children:o}),te=$([{title:"File"},{title:"Edit"},{title:"View"},{title:"Help"}]),f=t=>{let n=t.getHours(),r=t.getMinutes(),c=n>=12?"PM":"AM";return n=n%12,n=n||12,r=r<10?"0"+r:r,n+":"+r+" "+c},ne=()=>{const[t,n]=C(f(new Date));return E(()=>{const r=setInterval(()=>{n(f(new Date))},5e3);return()=>{clearInterval(r)}},[]),e(l,{weight:"bold",children:t})};const se=g(()=>{const t=_(te);return e(Q,{children:[e(v,{children:[e("img",{src:"/hls-lint/icons/logo.svg",alt:"Logo"}),e(U,{children:t.map(n=>e(X,{children:e(l,{weight:"bold",children:n.title})}))})]}),e(v,{paddingTop:"sm",children:[e(ne,{}),e(Z,{}),e(l,{tag:"a",href:"https://github.com/msafronov/hls-lint",target:"blank",textDecoration:"none",color:"black",children:e(Y,{children:[e(ee,{}),e(l,{weight:"bold",children:"HLS Lint"})]})})]})]})});const T=t=>e("div",{className:a("window",{[`window_size_${t.size}`]:t.size}),children:e("div",{class:"window__internal",children:t.children})});const x=t=>e("div",{className:"window__title-bar",children:t.children});const S=t=>e("div",{className:"window__title-bar-title",children:t.children});const y=()=>e("div",{className:"window__title-bar-horizontal-bars",children:[e("div",{className:"window__title-bar-horizontal-bar window__title-bar-horizontal-bar_left"}),e("div",{className:"window__title-bar-horizontal-bar window__title-bar-horizontal-bar_right"})]});const B=t=>e("img",{className:"window__title-bar-close-icon",src:"/hls-lint/icons/close-window.svg",alt:"Close",onClick:t.onClick});const L=t=>e("img",{className:"window__title-bar-collapse-icon",src:"/hls-lint/icons/collapse-window.svg",alt:"Collapse",onClick:t.onClick});const H=t=>e("div",{className:"window__content",children:t.children});const re=t=>e("div",{className:"window__content-header",children:e("div",{className:"window__content-header-internal",children:t.children})});const k=t=>e("div",{className:"window__content-body",children:t.children});const le=t=>e("div",{className:"window__footer",children:t.children}),ie=g(()=>{const t=u(()=>{},[]),n=u(()=>{},[]);return e(x,{children:[e(B,{onClick:t}),e(y,{}),e(S,{children:e(l,{weight:"bold",children:"HLS Lint"})}),e(y,{}),e(L,{onClick:n})]})}),ce=()=>e(re,{children:e(l,{size:"sm",children:["rfc8216 v13 (WIP: ",e(l,{tag:"a",color:"black",href:"https://github.com/msafronov/m3u8-composer/blob/main/docs/tags-and-attributes-support/rfc8216-v13.md",target:"blank",size:"sm",children:"see details"}),")"]})});const ae=t=>e("div",{className:"editor",children:t.children});const oe={width:"100%",fontFamily:"Garamond",fontSize:18},de=t=>{const[n,r]=C(""),c=u(s=>{var o;const i=(o=s.target)==null?void 0:o.value;r(i),t.onChange(i)},[]);return e(F,{value:n,style:oe,spellcheck:!1,className:"editor__textarea",onChange:c,children:t.children})};const he=t=>e("div",{className:a("editor__textarea-line",{"editor__textarea-line_error":t.error}),children:t.value||" "}),P={mediaSegments:[],variantStreams:[],playlist:{},metadata:{},errors:{},errorsCount:null},d=$({...P}),R=$(""),me=()=>{const t=M();A(R.get(),t),D(t);const n={};let r=0;Object.keys(t.logs).forEach(c=>{const s=t.logs[c];r++,n[s.row]===void 0?n[s.row]=[s]:n[s.row].push(s)}),d.set({...t,errors:n,errorsCount:r})},ue=()=>d.set({...P}),_e=t=>{R.set(t)},ye=()=>{const t=_(d);return e(k,{children:e(ae,{children:e(de,{onChange:n=>{_e(n),ue()},children:n=>n.split(`
`).map((r,c)=>e(he,{value:r,error:t.errors[c]!==void 0}))})})})},ge=()=>e(H,{children:[e(ce,{}),e(ye,{})]});const be=t=>e("button",{className:a("button","button_theme_primary",{[`button_size_${t.size}`]:t.size,disabled:t.disabled}),onClick:t.onClick,children:t.children}),$e=g(()=>e(le,{children:e(be,{onClick:me,theme:"primary",children:e(l,{weight:"bold",children:"Parse HLS Playlist"})})}));const we=()=>e(T,{size:"md",children:[e(ie,{}),e(ge,{}),e($e,{})]}),ve=g(()=>{const t=u(()=>{},[]),n=u(()=>{},[]);return e(x,{children:[e(B,{onClick:t}),e(y,{}),e("img",{src:"/hls-lint/icons/analysis.svg",alt:"Result window icon"}),e(S,{children:e(l,{weight:"bold",children:"Result"})}),e(y,{}),e(L,{onClick:n})]})});const fe=t=>e(j,{className:"tabs",children:t.children});const p=t=>e(G,{className:"tabs__tab",children:t.children});const pe=t=>e(q,{className:"tabs__tab-list",children:[e("div",{className:"tabs__tab-list-internal",children:" "}),t.children]});const z=t=>e(J,{className:"tabs__tab-panel",children:t.children});const ze=t=>e(V,{className:"tabs__tab-panels",children:t.children});const Ne=t=>e("span",{className:a("badge",{[`badge_theme_${t.theme}`]:t.theme}),children:t.children});const Ce=t=>e("div",{className:"errors",children:t.children});const I=t=>e("div",{className:"scroll-box",style:t.style,children:t.children});const Te=t=>e("div",{className:"table",children:t.children});const xe=t=>e("div",{className:a("table__body-row",{"table__body-row_clickable":t.clickable}),children:t.children});const h=t=>e("div",{className:a("table__body-col",{[`table__body-col_size_${t.size}`]:t.size,"table__body-col_selected":t.selected,"table__body-col_centered":t.centered}),children:t.children});const Se=t=>e("div",{className:"table__head-row",children:t.children});const m=t=>e("div",{className:a("table__head-col",{[`table__head-col_size_${t.size}`]:t.size}),children:e("div",{className:"table__head-col-internal",children:t.children})}),Be=()=>{const t=_(d);return e(Te,{children:e(b,{children:[e(Se,{children:[e(m,{size:20,children:e(l,{family:"garamond",size:"lg",children:"Tag"})}),e(m,{size:10,children:e(l,{family:"garamond",size:"lg",children:"Row"})}),e(m,{size:10,children:e(l,{family:"garamond",size:"lg",children:"Col"})}),e(m,{size:20,children:e(l,{family:"garamond",size:"lg",children:"Value"})}),e(m,{size:40,children:e(l,{family:"garamond",size:"lg",children:"Text"})})]}),Object.values(t.errors).map(n=>n.map(r=>{var c;return e(xe,{children:[e(h,{size:20,selected:!0,children:e(l,{family:"garamond",size:"lg",children:r.relatesTo})}),e(h,{size:10,centered:!0,children:e(l,{family:"garamond",size:"lg",children:r.row})}),e(h,{size:10,centered:!0,children:e(l,{family:"garamond",size:"lg",children:r.col})}),e(h,{size:20,centered:!0,children:e(l,{family:"garamond",size:"lg",children:((c=r.value)==null?void 0:c.toString())||"-"})}),e(h,{size:40,children:e(l,{family:"garamond",size:"lg",children:r.message})})]})}))]})})},Le={height:"40vh"},He=()=>e(Ce,{children:e(I,{style:Le,children:e(Be,{})})});const ke=t=>e("div",{className:"data",children:t.children});const Pe=t=>e("pre",{className:"data__code",children:t.children}),Re={height:"40vh"},Ie=()=>{const t=_(d);return e(ke,{children:e(I,{style:Re,children:e(Pe,{children:e(l,{family:"garamond",size:"lg",children:JSON.stringify({main:t.metadata,playlist:t.playlist,variantStreams:t.variantStreams,mediaSegments:t.mediaSegments},null,4)})})})})},We=()=>{const t=_(d);return e(H,{children:e(k,{children:e(fe,{children:[e(pe,{children:[e(p,{children:e(b,{children:[e(l,{weight:"bold",children:"Errors"}),t.errorsCount!==null&&e(Ne,{theme:t.errorsCount===0?"success":"error",children:e(l,{size:"sm",color:"white",children:t.errorsCount})})]})}),e(p,{children:e(l,{weight:"bold",children:"Data"})})]}),e(ze,{children:[e(z,{children:e(He,{})}),e(z,{children:e(Ie,{})})]})]})})})};const Ee=()=>e(T,{size:"sm",children:[e(ve,{}),e(We,{})]});const Oe=()=>e(b,{children:[e(se,{}),e(K,{children:[e(w,{children:e(we,{})}),e(w,{children:e(Ee,{})})]})]});const N=document.getElementById("app");N!==null&&O(e(Oe,{}),N);
